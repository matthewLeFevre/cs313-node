(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t){},19:function(e,t){},20:function(e,t,a){e.exports=a(33)},25:function(e,t,a){},27:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(17),s=a.n(o),r=(a(25),a(6)),l=a(7),i=a(9),u=a(8),m=a(10),d=a(2),h=a(36),p=a(38),f=a(34),b=a(37),y=(a(27),a(35)),g=function(e){return c.a.createElement("header",{className:"header"},c.a.createElement("div",{className:"header__logo"},"Blunderly"),c.a.createElement("nav",{className:"nav"},c.a.createElement("ul",{className:"nav__list"},c.a.createElement("li",{className:"nav__item"},c.a.createElement(y.a,{to:"/home",activeClassName:"active",className:"nav__link"},"Home")),c.a.createElement("li",{className:"nav__item"},c.a.createElement(y.a,{to:"/about",activeClassName:"active",className:"nav__link"},"About")),c.a.createElement("li",{className:"nav__item"},e.accountInfo.accountLoggedIn?c.a.createElement(y.a,{to:"/home",activeClassName:"active",className:"nav__link",onClick:e.logout},"Logout"):c.a.createElement(y.a,{to:"/login",activeClassName:"active",className:"nav__link"},"Login")),c.a.createElement("li",{className:"nav__item"},e.accountInfo.accountLoggedIn?"":c.a.createElement(y.a,{to:"/signup",activeClassName:"active",className:"nav__link"},"SignUp")),e.accountInfo.accountLoggedIn?c.a.createElement("li",{className:"nav__item"},c.a.createElement(y.a,{to:"/dashboard/parties",activeClassName:"active",className:"nav__link"},"Parties")):"",e.accountInfo.accountLoggedIn?c.a.createElement("li",{className:"nav__item"},c.a.createElement(y.a,{to:"/dashboard/settings",activeClassName:"active",className:"nav__link"},"Settings")):"")))},E=a(32),v=function(e){return c.a.createElement("footer",{className:"footer"},c.a.createElement("div",{className:"footer-section"},c.a.createElement("ul",{className:"footer-group"},c.a.createElement("li",{className:"footer-group__item"},c.a.createElement("h4",{className:"footer-group__title"},"Legal")),c.a.createElement("li",{className:"footer-group__item"},c.a.createElement(E.a,{to:"/about",className:"footer-group__link"},"Privacy")),c.a.createElement("li",{className:"footer-group__item"},c.a.createElement(E.a,{to:"/about",className:"footer-group__link"},"Terms of Service")),c.a.createElement("li",{className:"footer-group__item"},c.a.createElement(E.a,{to:"/about",className:"footer-group__link"},"Contact"))),c.a.createElement("ul",{className:"footer-group"},c.a.createElement("li",{className:"footer-group__item"},c.a.createElement("h4",{className:"footer-group__title"},"Info")),c.a.createElement("li",{className:"footer-group__item"},c.a.createElement(E.a,{to:"/about",className:"footer-group__link"},"About Blunderly")),c.a.createElement("li",{className:"footer-group__item"},c.a.createElement(E.a,{to:"/about",className:"footer-group__link"},"The Creator"))),c.a.createElement("ul",{className:"footer-group"},c.a.createElement("li",{className:"footer-group__item"},c.a.createElement("h4",{className:"footer-group__title"},"Contribute")),c.a.createElement("li",{className:"footer-group__item"},c.a.createElement(E.a,{to:"/about",className:"footer-group__link"},"Documentation")),c.a.createElement("li",{className:"footer-group__item"},c.a.createElement(E.a,{to:"/about",className:"footer-group__link"},"Social Media")),c.a.createElement("li",{className:"footer-group__item"},c.a.createElement(E.a,{to:"/about",className:"footer-group__link"},"Help Code")))),c.a.createElement("div",{className:"txt-center mid spacing--top--2"},"Created with Bluntness by Matthew LeFevre \xa9 2018"))},N=function(e){return c.a.createElement("div",{id:"home"},c.a.createElement("section",{className:"home__banner"},c.a.createElement("div",{className:"banner__text"},c.a.createElement("h1",{className:"banner__title"},"Blunderly"),c.a.createElement("p",{className:"banner__sub-title"},'A bungling blooper of a "Slack" clone'),c.a.createElement(E.a,{to:"/signup",className:"btn mid action"},"Get Started"))))},_=function(e){return c.a.createElement("div",{id:"About"},c.a.createElement("article",{className:"format_text"},c.a.createElement("h1",null,"About Blunderly"),c.a.createElement("p",null,"The word blunder is a verb for the act of commiting a stupid mistake, so try not to blunder about when you are on blunderly... hahaha."),c.a.createElement("p",null,"Blunderly is my final project for a computer science web backend online course from BYU-Idaho(what a mouthfull... maybe I should be linking things?). I find instant messaging amazing and when I started using slack I realized it was just a glorified way of sending messages... and that was it. Oh yeah maybe it has the option to add links or upload and send assets sure thats all well and good but its main purpose is to meerly communicate in an instant messaging kind of way."),c.a.createElement("p",null,"This is the closest thing I have been able to make in the time I have been given to a slack clone (should probably try and find a better way to put that but hey limited time)."),c.a.createElement("p",null,"Have a good time messaging other people on Blunderly currently any account can message any other one so... yeah not the most private of things. Use at your own risk! But have fun too!"),c.a.createElement("h2",null,"For you technical nerds out there:"),c.a.createElement("p",null,"Blunderly was built in react on the front end node express on the backend and a free heroku postgres database.")))},j=a(15),k=function(){function e(){Object(r.a)(this,e),this.headers={"Content-Type":"application/json",Accept:"application/json"}}return Object(l.a)(e,[{key:"concatArray",value:function(e,t){return e.concat(t)}}],[{key:"createRandomKey",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=a.charAt(Math.floor(Math.random()*a.length));return t}},{key:"htmlDecode",value:function(e){var t=document.createElement("div");return t.innerHTML=e,0===t.childNodes.length?"":t.childNodes[0].nodeValue}},{key:"htmlEncode",value:function(e){var t=document.createElement("span");return t.textContent=e,t.innerHTML}},{key:"createRequest",value:function(e){return{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}}},{key:"createBody",value:function(e,t,a){return{controller:e,action:t,payload:a}}},{key:"createRequestBody",value:function(e){return console.log(e),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e)}}},{key:"getRequest",value:function(e,t){fetch("".concat(this.url).concat(e)).then(function(e){return e.json}).then(function(e){console.log(e.status),"success"===e.status&&t(e.data)})}}]),e}(),O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChange=a.onChange.bind(Object(d.a)(Object(d.a)(a))),a.onLogin=a.onLogin.bind(Object(d.a)(Object(d.a)(a))),a.state={accountName:"",accountPassword:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n))}},{key:"onLogin",value:function(){var e=this,t={accountName:this.state.accountName,accountPassword:this.state.accountPassword},a=k.createRequestBody(t);fetch("/loginAccount",a).then(function(e){return e.json()}).then(function(t){"success"===t.status?e.props.login(t.data):window.alert(t.message)})}},{key:"render",value:function(){return c.a.createElement("div",{id:"login"},c.a.createElement("form",{className:"form--sml"},c.a.createElement("h1",{className:"form__title"},"Login"),c.a.createElement("fieldset",{className:"field spacing--bottom--1"},c.a.createElement("label",{className:"label"},"Account Name"),c.a.createElement("input",{onChange:this.onChange,className:"input full main",type:"text",name:"accountName"})),c.a.createElement("fieldset",{className:"field spacing--bottom--2"},c.a.createElement("label",{className:"label"},"Password"),c.a.createElement("input",{onChange:this.onChange,className:"input full main",type:"password",name:"accountPassword"})),c.a.createElement("fieldset",{className:"field spacing--bottom--1"},c.a.createElement("button",{onClick:this.onLogin,className:"btn action full breath",type:"button"},"Login"))),c.a.createElement("section",{className:"format_text"},c.a.createElement("p",null,"Eventually you will be able to signup with your own account for now there are just preset accounts to sign in. Please choose any number of them for testing."),c.a.createElement("ul",null,c.a.createElement("li",null,"name: billey",c.a.createElement("br",null),"password: 1234"),c.a.createElement("li",null,"name: sally",c.a.createElement("br",null),"password: 1234"),c.a.createElement("li",null,"name: rick",c.a.createElement("br",null),"password: 1234"),c.a.createElement("li",null,"name: cassey",c.a.createElement("br",null),"password: 1234"),c.a.createElement("li",null,"name: matt",c.a.createElement("br",null),"password: 1234"))))}}]),t}(c.a.Component),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChange=a.onChange.bind(Object(d.a)(Object(d.a)(a))),a.onRegister=a.onRegister.bind(Object(d.a)(Object(d.a)(a))),a.state={accountName:"",accountPassword:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(j.a)({},a,n))}},{key:"onRegister",value:function(){var e={accountName:this.state.accountName,accountPassword:this.state.accountPassword},t=k.createRequestBody(e);fetch("/createAccount",t).then(function(e){return e.json()}).then(function(e){window.alert(e.message)})}},{key:"render",value:function(){return c.a.createElement("div",{id:"register"},c.a.createElement("form",{className:"form--sml"},c.a.createElement("h1",{className:"form__title"},"Signup"),c.a.createElement("fieldset",{className:"field spacing--bottom--1"},c.a.createElement("label",{className:"label"},"Account Name"),c.a.createElement("input",{onChange:this.onChange,className:"input full main",type:"text",name:"accountName"})),c.a.createElement("fieldset",{className:"field spacing--bottom--2"},c.a.createElement("label",{className:"label"},"Password"),c.a.createElement("input",{onChange:this.onChange,className:"input full main",type:"password",name:"accountPassword"})),c.a.createElement("fieldset",{className:"field"},c.a.createElement("p",null,"By Clicking the button below you awknowledge that you have read and will abide by the terms of service as well as the privacy policy.")),c.a.createElement("fieldset",{className:"field spacing--bottom--1"},c.a.createElement("button",{onClick:this.onRegister,className:"btn action full breath",type:"button"},"Signup"))))}}]),t}(c.a.Component),C=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).onChange=a.onChange.bind(Object(d.a)(Object(d.a)(a))),a.createDispatch=a.createDispatch.bind(Object(d.a)(Object(d.a)(a))),a.deleteParty=a.deleteParty.bind(Object(d.a)(Object(d.a)(a))),a.showAccounts=a.showAccounts.bind(Object(d.a)(Object(d.a)(a))),a.addAccountToParty=a.addAccountToParty.bind(Object(d.a)(Object(d.a)(a))),a.handelAccountId=a.handelAccountId.bind(Object(d.a)(Object(d.a)(a))),a.updateDispatches=a.updateDispatches.bind(Object(d.a)(Object(d.a)(a))),a.sendEnter=a.sendEnter.bind(Object(d.a)(Object(d.a)(a))),a.state={dispatches:[],wasDeleted:!1,dispatchtext:"",accounts:[],partyAccounts:[],showAccounts:!1,accountId:"",partyid:""},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/dispatchesByParty/".concat(this.props.match.params.partyid)).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({dispatches:t.data,partyid:e.props.match.params.partyid})}),fetch("/accounts").then(function(e){return e.json()}).then(function(t){console.log(t.data),e.setState({accounts:t.data})}),fetch("/accountsByParty/".concat(this.props.match.params.partyid)).then(function(e){return e.json()}).then(function(t){e.setState({partyAccounts:t.data})}),this.updateDispatches()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.match.params.partyid!==this.state.partyid&&(fetch("/dispatchesByParty/".concat(this.props.match.params.partyid)).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({dispatches:t.data,partyid:e.props.match.params.partyid})}),fetch("/accounts").then(function(e){return e.json()}).then(function(t){console.log(t.data),e.setState({accounts:t.data})}),fetch("/accountsByParty/".concat(this.props.match.params.partyid)).then(function(e){return e.json()}).then(function(t){e.setState({partyAccounts:t.data})}),this.props.partyOpen())}},{key:"deleteParty",value:function(){var e=this,t={partyId:this.props.match.params.partyid},a=k.createRequestBody(t);fetch("/deleteParty",a).then(function(e){return e.json()}).then(function(t){"success"===t.status?(window.alert(t.message),e.setState({wasDeleted:!0})):window.alert(t.message)})}},{key:"createDispatch",value:function(){var e=this,t={accountid:this.props.accountInfo.accountid,partyid:this.props.match.params.partyid,dispatchtext:this.state.dispatchtext},a=k.createRequestBody(t);fetch("/createDispatch",a).then(function(e){return e.json()}).then(function(t){e.setState({dispatches:t.data,dispatchtext:""})})}},{key:"addAccountToParty",value:function(){var e={accountId:this.state.accountId,partyId:this.props.match.params.partyid},t=k.createRequestBody(e);fetch("/addAccountToParty",t).then(function(e){return e.json()}).then(function(e){window.alert(e.status)})}},{key:"updateDispatches",value:function(){var e=this;setInterval(function(){fetch("/dispatchesByParty/".concat(e.props.match.params.partyid)).then(function(e){return e.json()}).then(function(t){console.log(t),e.setState({dispatches:t.data})})},3e3)}},{key:"showAccounts",value:function(){this.setState(function(e){return{showAccounts:!e.showAccounts}})}},{key:"onChange",value:function(e){this.setState({dispatchtext:e.target.value})}},{key:"handelAccountId",value:function(e){this.setState({accountId:e.target.value})}},{key:"sendEnter",value:function(e){13===e.keyCode&&(e.preventDefault(),this.createDispatch())}},{key:"render",value:function(){var e=this;return this.state.wasDeleted?c.a.createElement(b.a,{to:"/dashboard"}):c.a.createElement("article",{className:"col--8 col--mdm--9 col--lrg--10 bg-theme-blue"},c.a.createElement("form",{className:"form"},c.a.createElement("fieldset",{className:"field"},this.state.partyAccounts.map(function(e,t){return c.a.createElement("button",{type:"button",className:"btn aciton breath"},e.accountname)}))),c.a.createElement("div",{className:"dispatch__container"},this.state.dispatches.map(function(t,a){return c.a.createElement(I,{dispatch:t,key:a,accountInfo:e.props.accountInfo})}),c.a.createElement("form",null,c.a.createElement("fieldset",{className:"field btn-pair"},c.a.createElement("div",{className:"field--btn-pair"},c.a.createElement("input",{type:"text",className:"input full btn-pair",value:this.state.dispatchtext,onKeyDown:this.sendEnter,onChange:this.onChange}),c.a.createElement("button",{className:"btn--input",type:"button",onClick:this.createDispatch},"Send"))),c.a.createElement("fieldset",{className:"field"},c.a.createElement("label",{className:"label"},"Add Accounts to Party")),this.state.showAccounts?c.a.createElement("fieldset",{className:"field"},c.a.createElement("select",{name:"accountName",onChange:this.handelAccountId,className:"input--select full breath"},this.state.accounts.map(function(e,t){return c.a.createElement("option",{value:e.accountid},e.accountname)})),c.a.createElement("button",{type:"button",onClick:this.addAccountToParty,className:"btn breath success"},"Add selected account to party")):"",c.a.createElement("fieldset",{className:"field"},c.a.createElement("button",{onClick:this.showAccounts,type:"button",className:"btn breath primary"},this.state.showAccounts?"Hide Acconts":"Show accounts")),c.a.createElement("fieldset",{className:"field"},c.a.createElement("button",{type:"button",className:"btn breath danger",onClick:this.deleteParty},"Delete Party")))))}}]),t}(c.a.Component),I=function(e){var t="dispatch",a=new Date(e.dispatch.dispatchcreated);return e.dispatch.accountid===e.accountInfo.accountid&&(t="dispatch self"),c.a.createElement("div",{className:t},c.a.createElement("p",{className:"dispatch__account"},e.dispatch.accountname," ",c.a.createElement("span",{className:"dispatch__time"},a.toDateString())),c.a.createElement("p",{className:"dispatch__message"},e.dispatch.dispatchtext))},P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).createParty=a.createParty.bind(Object(d.a)(Object(d.a)(a))),a.handlePartyName=a.handlePartyName.bind(Object(d.a)(Object(d.a)(a))),a.state={partyName:"",partyOpen:!1},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.updateParties(!1)}},{key:"createParty",value:function(){var e=this,t={partyName:this.state.partyName,accountId:this.props.accountInfo.accountid},a=k.createRequestBody(t);fetch("/createParty",a).then(function(e){return e.json()}).then(function(t){e.props.updateParties(t.data),console.log(t)})}},{key:"handlePartyName",value:function(e){this.setState({partyName:e.target.value})}},{key:"partyOpen",value:function(){this.setState={partyOpen:!0}}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"grid page__full--header"},c.a.createElement("ul",{className:"party__list col--lrg--2 col--mdm--3 col--4 bg-theme-black"},this.props.parties?this.props.parties.map(function(e,t){return c.a.createElement("li",{className:"party__item",key:t},c.a.createElement(y.a,{activeClassName:"party__link active",to:"/dashboard/parties/".concat(e.partyid),className:"party__link "},e.partyname))}):"",c.a.createElement("li",{className:"party__item--btn-pair"},c.a.createElement("fieldset",{className:"field"},c.a.createElement("div",{className:"field--btn-pair"},c.a.createElement("input",{type:"text",className:"input sml",onChange:this.handlePartyName}),c.a.createElement("label",{className:"btn icon btn-pair tiny",onClick:this.createParty},"New"))))),c.a.createElement(f.a,{path:"/dashboard/parties/:partyid",render:function(t){return c.a.createElement(C,Object.assign({accountInfo:e.props.accountInfo,partyOpen:e.partyOpen},t))}}))}}]),t}(c.a.Component),A=a(18),S=a.n(A),B=a(19),D=a.n(B),L=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).updateParties=a.updateParties.bind(Object(d.a)(Object(d.a)(a))),a.state={parties:[]},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/partiesByAccount/".concat(this.props.accountInfo.accountid)).then(function(e){return e.json()}).then(function(t){e.setState({parties:t.data})})}},{key:"updateParties",value:function(e){var t=this;e?this.setState({parties:e}):fetch("/partiesByAccount/".concat(this.props.accountInfo.accountid)).then(function(e){return e.json()}).then(function(e){t.setState({parties:e.data})})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"Dashbaord"},c.a.createElement(p.a,null,c.a.createElement(f.a,{path:"/dashboard/parties",render:function(t){return c.a.createElement(P,Object.assign({accountInfo:e.props.accountInfo,parties:e.state.parties,updateParties:e.updateParties},t))}}),c.a.createElement(f.a,{path:"/dashboard/settings",render:function(e){return c.a.createElement(S.a,e)}}),c.a.createElement(f.a,{path:"/dashboard/admin",render:function(t){return e.state.isAdmin?c.a.createElement(D.a,t):c.a.createElement(b.a,{to:"/login"})}}),c.a.createElement(b.a,{to:"/dashboard/parties"})))}}]),t}(c.a.Component),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).login=a.login.bind(Object(d.a)(Object(d.a)(a))),a.state={accountInfo:{accountLoggedIn:!1}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"login",value:function(e){this.setState({accountInfo:{accountLoggedIn:!0,accountid:e.accountid,accountLevel:"user"}})}},{key:"logout",value:function(){this.setState={accountInfo:{accountLoggedIn:!1}}}},{key:"render",value:function(){var e=this;return c.a.createElement(h.a,null,c.a.createElement("div",null,c.a.createElement(g,{accountInfo:this.state.accountInfo,logout:this.logout}),c.a.createElement(p.a,null,c.a.createElement(f.a,{path:"/",exact:!0,component:N}),c.a.createElement(f.a,{path:"/home",component:N}),c.a.createElement(f.a,{path:"/about",component:_}),c.a.createElement(f.a,{path:"/login",render:function(t){return e.state.accountInfo.accountLoggedIn?c.a.createElement(b.a,{to:"/dashboard"}):c.a.createElement(O,Object.assign({login:e.login},t))}}),c.a.createElement(f.a,{path:"/signup",component:w}),c.a.createElement(f.a,{path:"/dashboard",render:function(t){return c.a.createElement(L,Object.assign({accountInfo:e.state.accountInfo},t))}})),c.a.createElement(v,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.6c107d45.chunk.js.map